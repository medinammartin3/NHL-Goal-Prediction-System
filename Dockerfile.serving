
FROM python:3.12-slim

WORKDIR /code

# Add code
ADD ./serving/app.py ./app.py
ADD ./ift6758 ./ift6758

# Install libraries
RUN pip install --no-cache-dir --upgrade pip setuptools wheel
RUN pip install --no-cache-dir -r ./ift6758/client/requirements_serving.txt

# Expose ports
EXPOSE 5000

# Specify default command
CMD ["gunicorn", "--bind", "0.0.0.0:5000", "app:app"]